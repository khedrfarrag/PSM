import axios, { AxiosError } from "axios";
import { useCallback, useContext, useEffect, useState } from "react";
import {
  TASKS_URLs,
  USERS_URLs,
  requstHeader,
} from "../../../../constans/END_POINTS";
import Styles from "./Dashboard.module.css";
import Header from "../../../Shared/components/Header/Header";
import {
  TaskCountResponse,
  UserCountResponse,
} from "../../../../interfaces/Dashboard/DashboardResponse";
import { toast } from "react-toastify";
import { AxiosErrorResponse } from "../../../../interfaces/AuthResponse/AuthResponse";
import Loading from "../../../Shared/components/Loading/Loading";
import { AuthContext } from "../../../../context/AuthContext";
import { Doughnut } from "react-chartjs-2";
import { Chart as ChartJS, ArcElement, Tooltip, Legend } from "chart.js";
import { ChartDataProps } from "../../../../interfaces/Dashboard/ChartsResponse";

export default function Dashboard() {
  const [activatedEmployee, setActivatedEmployee] = useState(0);
  const [deactivateEmployee, setDeactivateEmployee] = useState(0);
  const [toDoCounter, setToDoCounter] = useState(0);
  const [inProgressCounter, setInProgressCounter] = useState(0);
  const [doneCounter, setDoneCounter] = useState(0);
  const [loading, setLoading] = useState(false);
  const { userData }: any = useContext(AuthContext);
  ChartJS.register(ArcElement, Tooltip, Legend);

  const getTotalUsers = useCallback(async () => {
    setLoading(true);
    try {
      const userGroup = await userData?.userGroup;
      if (userGroup === "Manager") {
        const response = await axios.get<UserCountResponse>(
          USERS_URLs.countUsersUrl,
          {
            headers: requstHeader,
          }
        );
        setActivatedEmployee(response?.data?.activatedEmployeeCount || 0);
        setDeactivateEmployee(response?.data?.deactivatedEmployeeCount || 0);
      }
    } catch (error) {
      const axiosError = error as AxiosError<AxiosErrorResponse>;
      toast.error(
        axiosError.response?.data.message || "Failed to fetch user data"
      );
    } finally {
      setLoading(false);
    }
  }, [userData]);

  const getTotalTasks = async () => {
    setLoading(true);
    try {
      const response = await axios.get<TaskCountResponse>(
        TASKS_URLs.countTasksUrl,
        {
          headers: requstHeader,
        }
      );
      setToDoCounter(response.data.toDo);
      setInProgressCounter(response.data.inProgress);
      setDoneCounter(response.data.done);
    } catch (error) {
      const axiosError = error as AxiosError<AxiosErrorResponse>;
      toast.error(axiosError.response?.data.message);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    getTotalTasks();
    getTotalUsers();
  }, []);

  const createChartData = ({ labels, label, data }: ChartDataProps) => ({
    labels: labels,
    datasets: [
      {
        label:  label ,
        data: data,
        backgroundColor: [
          "rgb(207, 209, 236)",
          "rgb(228, 228, 188)",
          "rgb(231, 195, 215)",
        ],
        hoverOffset: 4,
      },
    ],
  });

  const chartDataForTasks = createChartData({
    labels: ["Todo", "InProgress", "Done"],
    label: "Tasks",
    data: [toDoCounter, inProgressCounter, doneCounter],
  });

  const chartDataForUsers = createChartData({
    labels: ["Active", "Inactive"],
    label: "Users",
    data: [activatedEmployee, deactivateEmployee],
  });

  return (
    <>
      {loading ? (
        <Loading />
      ) : (
        <>
          <Header />

          <div className={`${Styles.dashboardContainer} mt-5`}>
            <div className="row justify-content-between align-items-center gy-4">
              <div className="col-md-6 order-1 order-md-1 text-center text-md-start">
                <div
                  className={`${Styles.bgCard} card-tasks py-4 rounded-4 px-4`}
                >
                  <div className={`${Styles.titelCard} ps-3 `}>
                    <h5>Tasks</h5>
                    <p className="text-muted">
                      Lorem ipsum dolor sit amet,consecteture
                    </p>
                  </div>
                  <div className="row cards-container gy-3">
                    <div className="col-md-4">
                      <div className={`${Styles.itemCard1} p-4 rounded-4`}>
                        <svg
                          className={`${Styles.iconBg1}  rounded-4`}
                          xmlns="http://www.w3.org/2000/svg"
                          width="60"
                          height="66"
                          fill="none"
                          viewBox="0 0 19 22"
                        >
                          <g fill="#000" clipPath="url(#clip0_1733_1010)">
                            <path d="M10.186 22H9.09c-.435 0-.853-.217-1.16-.604-.309-.387-.482-.912-.482-1.459v-8.25c0-.546.173-1.071.481-1.458s.726-.604 1.161-.604h1.095c.435 0 .853.217 1.16.604.309.387.482.912.482 1.459v4.124a.786.786 0 01-.16.487.498.498 0 01-.388.201.498.498 0 01-.387-.201.786.786 0 01-.16-.486v-4.126a.786.786 0 00-.16-.486.498.498 0 00-.387-.201H9.09a.498.498 0 00-.387.201.786.786 0 00-.16.486v8.25c0 .183.057.358.16.487a.498.498 0 00.387.201h1.095a.498.498 0 00.387-.201.786.786 0 00.16-.486v-1.375c0-.183.058-.358.16-.487a.498.498 0 01.387-.201c.145 0 .285.072.387.201.103.13.16.304.16.486v1.375c0 .547-.172 1.072-.48 1.459S10.62 22 10.186 22zM4.713 22H3.618c-.435 0-.853-.217-1.16-.604-.308-.387-.481-.912-.481-1.459v-4.125c0-.546.173-1.071.48-1.458.308-.387.726-.604 1.161-.604h1.095c.435 0 .853.217 1.16.604.309.387.482.912.482 1.459v4.124c0 .547-.173 1.072-.481 1.459S5.148 22 4.713 22zm-1.095-6.875a.498.498 0 00-.387.201.786.786 0 00-.16.486v4.126c0 .182.058.357.16.486a.498.498 0 00.387.201h1.095a.498.498 0 00.387-.201.786.786 0 00.16-.486v-4.125a.786.786 0 00-.16-.487.498.498 0 00-.387-.201H3.618zM15.658 22h-1.094c-.436 0-.853-.217-1.161-.604-.308-.387-.481-.912-.481-1.459v-11c0-.547.173-1.071.48-1.458.309-.387.726-.604 1.162-.604h1.094c.436 0 .853.217 1.161.604.308.387.481.911.481 1.458v2.75a.785.785 0 01-.16.487.498.498 0 01-.387.201.498.498 0 01-.387-.201.785.785 0 01-.16-.486v-2.75a.786.786 0 00-.16-.487.498.498 0 00-.388-.201h-1.094a.498.498 0 00-.387.201.786.786 0 00-.16.486v11c0 .183.057.358.16.487a.498.498 0 00.387.201h1.094a.498.498 0 00.387-.201.786.786 0 00.16-.486v-5.5c0-.183.058-.358.16-.487a.498.498 0 01.388-.201c.145 0 .284.072.387.201.102.13.16.304.16.486v5.5c0 .547-.173 1.072-.48 1.459-.309.387-.726.604-1.162.604zM4.165 11c-.324 0-.642-.121-.912-.348a2.032 2.032 0 01-.605-.925 2.557 2.557 0 01-.093-1.192c.063-.4.22-.767.45-1.056.229-.288.521-.485.84-.564.318-.08.649-.04.949.117.3.156.556.42.736.76.18.339.277.738.277 1.146 0 .547-.173 1.071-.48 1.458-.309.387-.726.604-1.162.604zm0-2.75a.472.472 0 00-.304.116.677.677 0 00-.201.308.852.852 0 00-.031.398.756.756 0 00.15.352.524.524 0 00.28.188.445.445 0 00.316-.04c.1-.051.185-.14.245-.253a.818.818 0 00.093-.382.786.786 0 00-.16-.486.498.498 0 00-.388-.201zM9.638 6.875c-.325 0-.642-.121-.912-.348a2.032 2.032 0 01-.605-.925 2.557 2.557 0 01-.093-1.192c.063-.4.22-.767.449-1.056.23-.288.522-.485.84-.564.32-.08.65-.04.95.117.3.156.556.42.736.76.18.339.277.738.277 1.146 0 .547-.173 1.071-.481 1.458s-.726.604-1.161.604zm0-2.75a.472.472 0 00-.304.116.677.677 0 00-.202.308.852.852 0 00-.03.398.756.756 0 00.149.352.524.524 0 00.28.188.445.445 0 00.316-.04c.1-.051.186-.14.246-.253a.818.818 0 00.092-.381.785.785 0 00-.16-.487.498.498 0 00-.387-.201zM15.11 4.125c-.324 0-.642-.121-.912-.348a2.032 2.032 0 01-.604-.925A2.557 2.557 0 0113.5 1.66c.064-.4.22-.767.45-1.056.23-.288.522-.485.84-.564.319-.08.649-.04.949.117.3.156.556.42.737.76.18.339.276.738.276 1.145 0 .548-.172 1.072-.48 1.459s-.726.604-1.161.604zm0-2.75a.472.472 0 00-.303.116.677.677 0 00-.202.308.852.852 0 00-.031.398.756.756 0 00.15.352.524.524 0 00.28.188.445.445 0 00.316-.04c.1-.051.185-.14.246-.253a.817.817 0 00.092-.381.786.786 0 00-.16-.487.498.498 0 00-.387-.201z"></path>
                            <path d="M5.1 8.917a.48.48 0 01-.33-.141.715.715 0 01-.196-.364.854.854 0 01.02-.439.669.669 0 01.227-.334l3.601-2.708a.448.448 0 01.401-.05.584.584 0 01.32.31c.071.15.094.33.064.5a.713.713 0 01-.227.42l-3.6 2.708a.467.467 0 01-.28.098zM10.65 4.991a.485.485 0 01-.35-.157.738.738 0 01-.189-.4.844.844 0 01.058-.46.61.61 0 01.277-.31l3.448-1.731a.452.452 0 01.423 0 .561.561 0 01.178.152c.051.066.091.143.118.227a.846.846 0 01-.007.531.71.71 0 01-.123.222.547.547 0 01-.183.145l-3.448 1.732a.446.446 0 01-.203.05z"></path>
                          </g>
                          <defs>
                            <clipPath id="clip0_1733_1010">
                              <path
                                fill="#fff"
                                d="M.883 8.756a8.756 8.756 0 0117.513 0v4.487a8.756 8.756 0 11-17.513 0V8.756z"
                              ></path>
                            </clipPath>
                          </defs>
                        </svg>
                        <h5 className="mt-3 text-muted">To Do</h5>
                        <h4>{toDoCounter}</h4>
                      </div>
                    </div>

                    <div className="col-md-4">
                      <div className={`${Styles.itemCard2} p-4 rounded-4`}>
                        <svg
                          className={`${Styles.iconBg2}  rounded-4`}
                          xmlns="http://www.w3.org/2000/svg"
                          width="60"
                          height="66"
                          fill="none"
                          viewBox="0 0 19 22"
                        >
                          <path
                            fill="#000"
                            d="M11.776 4.125H10.56c0-.365-.128-.714-.356-.972a1.148 1.148 0 00-.859-.403H8.74v-.688c0-.547-.192-1.071-.534-1.458A1.722 1.722 0 006.916 0c-.483 0-.947.217-1.288.604a2.208 2.208 0 00-.534 1.458v.688h-.607c-.323 0-.632.145-.86.403a1.472 1.472 0 00-.355.972H2.057c-.484 0-.947.217-1.289.604a2.208 2.208 0 00-.534 1.458v13.75c0 .547.192 1.072.534 1.459S1.573 22 2.057 22h5.467a.574.574 0 00.43-.201.736.736 0 00.177-.486.736.736 0 00-.178-.487.574.574 0 00-.43-.201H2.058a.574.574 0 01-.43-.201.736.736 0 01-.178-.486V6.188c0-.183.064-.358.178-.487a.574.574 0 01.43-.201h1.215c0 .365.128.714.355.972.228.258.537.403.86.403h4.86c.321 0 .63-.145.858-.403.228-.258.356-.607.356-.972h1.215c.16 0 .316.072.43.201a.736.736 0 01.177.487v5.5c0 .182.064.357.178.486a.574.574 0 00.43.201.574.574 0 00.43-.201.736.736 0 00.177-.486v-5.5c0-.548-.192-1.072-.534-1.459a1.722 1.722 0 00-1.288-.604zM6.309 2.062c0-.182.064-.357.178-.486a.574.574 0 01.43-.201c.16 0 .315.072.429.201a.736.736 0 01.178.486v.688H6.309v-.688zM4.487 5.5V4.125h4.86V5.5h-4.86z"
                          ></path>
                          <path
                            fill="#000"
                            d="M7.522 16.5a.566.566 0 01-.385-.159.71.71 0 01-.208-.398.767.767 0 01.062-.458.641.641 0 01.305-.309.542.542 0 01.408-.02.62.62 0 01.328.277.759.759 0 01-.079.868.601.601 0 01-.431.199zM3.878 17.187a.547.547 0 01-.234-.05.61.61 0 01-.198-.149L2.84 16.3a.74.74 0 01-.179-.488c0-.183.064-.358.179-.488a.576.576 0 01.431-.202c.162 0 .317.073.431.202l.177.207.783-.894a.611.611 0 01.198-.15.549.549 0 01.467 0 .611.611 0 01.198.15c.056.064.101.14.132.224a.77.77 0 010 .528.703.703 0 01-.132.224l-1.215 1.375a.61.61 0 01-.198.148.547.547 0 01-.233.051zM10.563 11H7.525a.574.574 0 01-.43-.201.736.736 0 01-.177-.486c0-.183.064-.358.178-.487a.574.574 0 01.43-.201h3.037c.16 0 .315.072.43.201a.736.736 0 01.177.486.736.736 0 01-.178.487.574.574 0 01-.43.201zM3.878 11.687a.547.547 0 01-.234-.05.61.61 0 01-.198-.149L2.84 10.8a.74.74 0 01-.179-.488.74.74 0 01.179-.488.576.576 0 01.431-.202c.162 0 .317.073.431.202l.177.207.783-.894a.576.576 0 01.431-.202c.162 0 .317.072.432.202.114.13.178.305.178.488a.739.739 0 01-.178.488l-1.215 1.375a.61.61 0 01-.198.148.547.547 0 01-.233.051zM11.777 14.438h2.43V16.5a.736.736 0 01-.178.486.574.574 0 01-.43.201h-1.214a.574.574 0 01-.43-.2.736.736 0 01-.178-.487v-2.063z"
                          ></path>
                          <path
                            fill="#000"
                            d="M14.815 22H11.17c-.483 0-.947-.217-1.289-.604a2.208 2.208 0 01-.533-1.459v-4.125c0-.546.192-1.071.533-1.458a1.722 1.722 0 011.289-.604h3.645c.483 0 .947.217 1.288.604.342.387.534.912.534 1.459v4.124c0 .547-.192 1.072-.534 1.459a1.722 1.722 0 01-1.288.604zm-3.645-6.875a.574.574 0 00-.43.201.736.736 0 00-.178.486v4.126c0 .182.065.357.179.486a.574.574 0 00.429.201h3.645a.574.574 0 00.43-.201.736.736 0 00.177-.486v-4.125a.736.736 0 00-.178-.487.574.574 0 00-.43-.201H11.17z"
                          ></path>
                        </svg>
                        <h5 className="mt-3 text-muted">In Progress</h5>
                        <h4>{inProgressCounter}</h4>
                      </div>
                    </div>

                    <div className="col-md-4">
                      <div className={`${Styles.itemCard3} p-4 rounded-4`}>
                        <svg
                          className={`${Styles.iconBg3}  rounded-4`}
                          xmlns="http://www.w3.org/2000/svg"
                          width="60"
                          height="66"
                          fill="none"
                          viewBox="0 0 19 22"
                        >
                          <path
                            fill="#000"
                            d="M10.684 22h-7.07a3.244 3.244 0 01-2.306-.965 3.32 3.32 0 01-.956-2.332V3.3c0-.875.343-1.715.955-2.333A3.244 3.244 0 013.614 0h7.07a3.231 3.231 0 012.307.967c.303.306.544.67.708 1.07.164.4.248.83.248 1.263v.138a.691.691 0 01-.2.486.676.676 0 01-.96 0 .691.691 0 01-.2-.486V3.3c0-.51-.2-1-.557-1.361a1.893 1.893 0 00-1.346-.564h-7.07c-.504 0-.988.203-1.345.564-.357.36-.558.85-.558 1.361v15.407c.002.51.203.997.56 1.357.357.36.84.561 1.343.561h7.07a1.885 1.885 0 001.346-.564 1.93 1.93 0 00.558-1.361v-.137c0-.183.071-.358.199-.487a.676.676 0 01.96 0c.128.13.2.304.2.486v.138a3.332 3.332 0 01-.956 2.334 3.232 3.232 0 01-2.307.966z"
                          ></path>
                          <path
                            fill="#000"
                            d="M7.149 19.25c-.27 0-.532-.08-.756-.232a1.39 1.39 0 01-.206-2.116 1.355 1.355 0 011.482-.297c.248.104.46.28.61.506a1.386 1.386 0 01-.17 1.736c-.254.258-.6.403-.96.403zM9.188 4.125H5.11a.676.676 0 01-.48-.201.692.692 0 010-.973.676.676 0 01.48-.201h4.08c.18 0 .352.072.48.201a.692.692 0 010 .973.676.676 0 01-.48.201zM18.025 12.375H8.508a.676.676 0 01-.48-.201.691.691 0 01-.2-.486v-2.75c0-.183.072-.358.2-.487a.676.676 0 01.48-.201h9.517c.18 0 .353.072.48.201.128.13.2.304.2.486v2.75a.691.691 0 01-.2.487.676.676 0 01-.48.201zM9.188 11h8.157V9.625H9.188V11z"
                          ></path>
                          <path
                            fill="#000"
                            d="M15.985 16.5h-5.438c-.54 0-1.06-.217-1.442-.604a2.074 2.074 0 01-.597-1.459v-2.75c0-.182.071-.357.199-.486a.676.676 0 01.48-.201h8.158c.18 0 .353.072.48.201.128.13.2.304.2.486v2.75c0 .548-.215 1.072-.598 1.459a2.028 2.028 0 01-1.442.604zm-6.118-4.125v2.063c0 .182.072.357.2.486.127.129.3.201.48.201h5.438c.18 0 .354-.072.481-.201a.691.691 0 00.2-.486v-2.063H9.866zM15.985 9.625h-5.438a.676.676 0 01-.48-.201.691.691 0 01-.2-.486V7.562c0-.547.215-1.071.597-1.458a2.028 2.028 0 011.442-.604h2.72c.54 0 1.06.217 1.442.604.382.387.597.911.597 1.458v1.375a.691.691 0 01-.2.487.676.676 0 01-.48.201zM11.227 8.25h4.078v-.688a.692.692 0 00-.199-.486.676.676 0 00-.48-.201h-2.72a.676.676 0 00-.48.201.692.692 0 00-.2.487v.687z"
                          ></path>
                        </svg>
                        <h5 className="mt-3 text-muted">Done</h5>
                        <h4>{doneCounter}</h4>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {userData?.userGroup === "Manager" ? (
                <div className="col-md-6 order-3 order-md-2 text-center text-md-start">
                  <div
                    className={`${Styles.bgCard} card-Users py-4 rounded-4 px-4`}
                  >
                    <div className={`${Styles.titelCard} ps-3 `}>
                      <h5>Users</h5>
                      <p className="text-muted">
                        Lorem ipsum dolor sit amet,consecteture
                      </p>
                    </div>
                    <div className="row cards-container gy-3">
                      <div className="col-md-4">
                        <div className={`${Styles.itemCard1} p-4 rounded-4`}>
                          <svg
                            className={`${Styles.iconBg1}  rounded-4`}
                            xmlns="http://www.w3.org/2000/svg"
                            width="60"
                            height="66"
                            fill="none"
                            viewBox="0 0 19 22"
                          >
                            <g fill="#000" clipPath="url(#clip0_1733_1010)">
                              <path d="M10.186 22H9.09c-.435 0-.853-.217-1.16-.604-.309-.387-.482-.912-.482-1.459v-8.25c0-.546.173-1.071.481-1.458s.726-.604 1.161-.604h1.095c.435 0 .853.217 1.16.604.309.387.482.912.482 1.459v4.124a.786.786 0 01-.16.487.498.498 0 01-.388.201.498.498 0 01-.387-.201.786.786 0 01-.16-.486v-4.126a.786.786 0 00-.16-.486.498.498 0 00-.387-.201H9.09a.498.498 0 00-.387.201.786.786 0 00-.16.486v8.25c0 .183.057.358.16.487a.498.498 0 00.387.201h1.095a.498.498 0 00.387-.201.786.786 0 00.16-.486v-1.375c0-.183.058-.358.16-.487a.498.498 0 01.387-.201c.145 0 .285.072.387.201.103.13.16.304.16.486v1.375c0 .547-.172 1.072-.48 1.459S10.62 22 10.186 22zM4.713 22H3.618c-.435 0-.853-.217-1.16-.604-.308-.387-.481-.912-.481-1.459v-4.125c0-.546.173-1.071.48-1.458.308-.387.726-.604 1.161-.604h1.095c.435 0 .853.217 1.16.604.309.387.482.912.482 1.459v4.124c0 .547-.173 1.072-.481 1.459S5.148 22 4.713 22zm-1.095-6.875a.498.498 0 00-.387.201.786.786 0 00-.16.486v4.126c0 .182.058.357.16.486a.498.498 0 00.387.201h1.095a.498.498 0 00.387-.201.786.786 0 00.16-.486v-4.125a.786.786 0 00-.16-.487.498.498 0 00-.387-.201H3.618zM15.658 22h-1.094c-.436 0-.853-.217-1.161-.604-.308-.387-.481-.912-.481-1.459v-11c0-.547.173-1.071.48-1.458.309-.387.726-.604 1.162-.604h1.094c.436 0 .853.217 1.161.604.308.387.481.911.481 1.458v2.75a.785.785 0 01-.16.487.498.498 0 01-.387.201.498.498 0 01-.387-.201.785.785 0 01-.16-.486v-2.75a.786.786 0 00-.16-.487.498.498 0 00-.388-.201h-1.094a.498.498 0 00-.387.201.786.786 0 00-.16.486v11c0 .183.057.358.16.487a.498.498 0 00.387.201h1.094a.498.498 0 00.387-.201.786.786 0 00.16-.486v-5.5c0-.183.058-.358.16-.487a.498.498 0 01.388-.201c.145 0 .284.072.387.201.102.13.16.304.16.486v5.5c0 .547-.173 1.072-.48 1.459-.309.387-.726.604-1.162.604zM4.165 11c-.324 0-.642-.121-.912-.348a2.032 2.032 0 01-.605-.925 2.557 2.557 0 01-.093-1.192c.063-.4.22-.767.45-1.056.229-.288.521-.485.84-.564.318-.08.649-.04.949.117.3.156.556.42.736.76.18.339.277.738.277 1.146 0 .547-.173 1.071-.48 1.458-.309.387-.726.604-1.162.604zm0-2.75a.472.472 0 00-.304.116.677.677 0 00-.201.308.852.852 0 00-.031.398.756.756 0 00.15.352.524.524 0 00.28.188.445.445 0 00.316-.04c.1-.051.185-.14.245-.253a.818.818 0 00.093-.382.786.786 0 00-.16-.486.498.498 0 00-.388-.201zM9.638 6.875c-.325 0-.642-.121-.912-.348a2.032 2.032 0 01-.605-.925 2.557 2.557 0 01-.093-1.192c.063-.4.22-.767.449-1.056.23-.288.522-.485.84-.564.32-.08.65-.04.95.117.3.156.556.42.736.76.18.339.277.738.277 1.146 0 .547-.173 1.071-.481 1.458s-.726.604-1.161.604zm0-2.75a.472.472 0 00-.304.116.677.677 0 00-.202.308.852.852 0 00-.03.398.756.756 0 00.149.352.524.524 0 00.28.188.445.445 0 00.316-.04c.1-.051.186-.14.246-.253a.818.818 0 00.092-.381.785.785 0 00-.16-.487.498.498 0 00-.387-.201zM15.11 4.125c-.324 0-.642-.121-.912-.348a2.032 2.032 0 01-.604-.925A2.557 2.557 0 0113.5 1.66c.064-.4.22-.767.45-1.056.23-.288.522-.485.84-.564.319-.08.649-.04.949.117.3.156.556.42.737.76.18.339.276.738.276 1.145 0 .548-.172 1.072-.48 1.459s-.726.604-1.161.604zm0-2.75a.472.472 0 00-.303.116.677.677 0 00-.202.308.852.852 0 00-.031.398.756.756 0 00.15.352.524.524 0 00.28.188.445.445 0 00.316-.04c.1-.051.185-.14.246-.253a.817.817 0 00.092-.381.786.786 0 00-.16-.487.498.498 0 00-.387-.201z"></path>
                              <path d="M5.1 8.917a.48.48 0 01-.33-.141.715.715 0 01-.196-.364.854.854 0 01.02-.439.669.669 0 01.227-.334l3.601-2.708a.448.448 0 01.401-.05.584.584 0 01.32.31c.071.15.094.33.064.5a.713.713 0 01-.227.42l-3.6 2.708a.467.467 0 01-.28.098zM10.65 4.991a.485.485 0 01-.35-.157.738.738 0 01-.189-.4.844.844 0 01.058-.46.61.61 0 01.277-.31l3.448-1.731a.452.452 0 01.423 0 .561.561 0 01.178.152c.051.066.091.143.118.227a.846.846 0 01-.007.531.71.71 0 01-.123.222.547.547 0 01-.183.145l-3.448 1.732a.446.446 0 01-.203.05z"></path>
                            </g>
                            <defs>
                              <clipPath id="clip0_1733_1010">
                                <path
                                  fill="#fff"
                                  d="M.883 8.756a8.756 8.756 0 0117.513 0v4.487a8.756 8.756 0 11-17.513 0V8.756z"
                                ></path>
                              </clipPath>
                            </defs>
                          </svg>
                          <h5 className="mt-3 text-muted">active</h5>
                          <h4>{activatedEmployee}</h4>
                        </div>
                      </div>

                      <div className="col-md-4">
                        <div className={`${Styles.itemCard2} p-4 rounded-4`}>
                          <svg
                            className={`${Styles.iconBg2}  rounded-4`}
                            xmlns="http://www.w3.org/2000/svg"
                            width="60"
                            height="66"
                            fill="none"
                            viewBox="0 0 19 22"
                          >
                            <path
                              fill="#000"
                              d="M11.776 4.125H10.56c0-.365-.128-.714-.356-.972a1.148 1.148 0 00-.859-.403H8.74v-.688c0-.547-.192-1.071-.534-1.458A1.722 1.722 0 006.916 0c-.483 0-.947.217-1.288.604a2.208 2.208 0 00-.534 1.458v.688h-.607c-.323 0-.632.145-.86.403a1.472 1.472 0 00-.355.972H2.057c-.484 0-.947.217-1.289.604a2.208 2.208 0 00-.534 1.458v13.75c0 .547.192 1.072.534 1.459S1.573 22 2.057 22h5.467a.574.574 0 00.43-.201.736.736 0 00.177-.486.736.736 0 00-.178-.487.574.574 0 00-.43-.201H2.058a.574.574 0 01-.43-.201.736.736 0 01-.178-.486V6.188c0-.183.064-.358.178-.487a.574.574 0 01.43-.201h1.215c0 .365.128.714.355.972.228.258.537.403.86.403h4.86c.321 0 .63-.145.858-.403.228-.258.356-.607.356-.972h1.215c.16 0 .316.072.43.201a.736.736 0 01.177.487v5.5c0 .182.064.357.178.486a.574.574 0 00.43.201.574.574 0 00.43-.201.736.736 0 00.177-.486v-5.5c0-.548-.192-1.072-.534-1.459a1.722 1.722 0 00-1.288-.604zM6.309 2.062c0-.182.064-.357.178-.486a.574.574 0 01.43-.201c.16 0 .315.072.429.201a.736.736 0 01.178.486v.688H6.309v-.688zM4.487 5.5V4.125h4.86V5.5h-4.86z"
                            ></path>
                            <path
                              fill="#000"
                              d="M7.522 16.5a.566.566 0 01-.385-.159.71.71 0 01-.208-.398.767.767 0 01.062-.458.641.641 0 01.305-.309.542.542 0 01.408-.02.62.62 0 01.328.277.759.759 0 01-.079.868.601.601 0 01-.431.199zM3.878 17.187a.547.547 0 01-.234-.05.61.61 0 01-.198-.149L2.84 16.3a.74.74 0 01-.179-.488c0-.183.064-.358.179-.488a.576.576 0 01.431-.202c.162 0 .317.073.431.202l.177.207.783-.894a.611.611 0 01.198-.15.549.549 0 01.467 0 .611.611 0 01.198.15c.056.064.101.14.132.224a.77.77 0 010 .528.703.703 0 01-.132.224l-1.215 1.375a.61.61 0 01-.198.148.547.547 0 01-.233.051zM10.563 11H7.525a.574.574 0 01-.43-.201.736.736 0 01-.177-.486c0-.183.064-.358.178-.487a.574.574 0 01.43-.201h3.037c.16 0 .315.072.43.201a.736.736 0 01.177.486.736.736 0 01-.178.487.574.574 0 01-.43.201zM3.878 11.687a.547.547 0 01-.234-.05.61.61 0 01-.198-.149L2.84 10.8a.74.74 0 01-.179-.488.74.74 0 01.179-.488.576.576 0 01.431-.202c.162 0 .317.073.431.202l.177.207.783-.894a.576.576 0 01.431-.202c.162 0 .317.072.432.202.114.13.178.305.178.488a.739.739 0 01-.178.488l-1.215 1.375a.61.61 0 01-.198.148.547.547 0 01-.233.051zM11.777 14.438h2.43V16.5a.736.736 0 01-.178.486.574.574 0 01-.43.201h-1.214a.574.574 0 01-.43-.2.736.736 0 01-.178-.487v-2.063z"
                            ></path>
                            <path
                              fill="#000"
                              d="M14.815 22H11.17c-.483 0-.947-.217-1.289-.604a2.208 2.208 0 01-.533-1.459v-4.125c0-.546.192-1.071.533-1.458a1.722 1.722 0 011.289-.604h3.645c.483 0 .947.217 1.288.604.342.387.534.912.534 1.459v4.124c0 .547-.192 1.072-.534 1.459a1.722 1.722 0 01-1.288.604zm-3.645-6.875a.574.574 0 00-.43.201.736.736 0 00-.178.486v4.126c0 .182.065.357.179.486a.574.574 0 00.429.201h3.645a.574.574 0 00.43-.201.736.736 0 00.177-.486v-4.125a.736.736 0 00-.178-.487.574.574 0 00-.43-.201H11.17z"
                            ></path>
                          </svg>
                          <h5 className="mt-3 text-muted">inactive</h5>
                          <h4>{deactivateEmployee}</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              ) : (
                ""
              )}

              <div className="col-md-6 order-2 order-md-3 d-flex justify-content-center align-items-center">
                <div className="chart w-75 ">
                  <Doughnut data={chartDataForTasks} />
                </div>
              </div>

              {userData?.userGroup === "Manager" ? (
                <div className="col-md-6 order-4 order-md-4 d-flex justify-content-center align-items-center">
                  <div className="chart w-75 ">
                    <Doughnut data={chartDataForUsers} />
                  </div>
                </div>
              ) : (
                ""
              )}
            </div>
          </div>
        </>
      )}
    </>
  );
}
